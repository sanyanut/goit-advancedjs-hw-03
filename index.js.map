{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const KEY = '52917262-bfaf5bd23aa54a80b60e2fad9';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport default function fetchImages(value) {\n  const params = new URLSearchParams({\n    key: KEY,\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export default function renderImages(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n            <li class='gallery-list-item'>\n                <a href='${largeImageURL}' class='gallery-item-link'>\n                    <img src='${webformatURL}' class='gallery-item-image' alt='${tags}'/>\n                    <div class='gallery-item-info'>\n                        <p class='gallery-info-item'>Likes <span>${likes}</span></p>\n                        <p class='gallery-info-item'>Views <span>${views}</span></p>\n                        <p class='gallery-info-item'>Comments <span>${comments}</span></p>\n                        <p class='gallery-info-item'>Downloads <span>${downloads}</span></p>\n                    </div>\n                </a>\n            </li>\n        `;\n      }\n    )\n    .join('');\n  return markup;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport fetchImages from './js/pixabay-api';\nimport renderImages from './js/render-functions';\n\nconst refs = {\n  form: document.querySelector('.gallery-form'),\n  formInput: document.querySelector('.gallery-form-input'),\n  gallery: document.querySelector('.gallery-list'),\n  loader: document.querySelector('.loader'),\n};\n\nlet simpleLightbox = new SimpleLightbox('.gallery-item-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nrefs.form.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const inputValue = refs.formInput.value.trim();\n\n  if (inputValue === '') {\n    iziToast.error({\n      message: 'Please enter a search term.',\n      position: 'topRight',\n      closeOnClick: true,\n    });\n    return;\n  }\n\n  refs.gallery.innerHTML = '';\n  refs.gallery.classList.add('hidden');\n  refs.loader.classList.remove('hidden');\n\n  fetchImages(inputValue)\n    .then(data => {\n      refs.formInput.value = '';\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message: 'No images found. Please try a different search term.',\n          position: 'topRight',\n          closeOnClick: true,\n        });\n        refs.loader.classList.add('hidden');\n        refs.gallery.classList.remove('hidden');\n        return;\n      }\n\n      const loadGallery = renderImages(data.hits);\n      refs.gallery.innerHTML = loadGallery;\n      simpleLightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        message: `Error: ${error.message}`,\n        position: 'topRight',\n        closeOnClick: true,\n      });\n    })\n    .finally(() => {\n      refs.loader.classList.add('hidden');\n      refs.gallery.classList.remove('hidden');\n    });\n});\n"],"names":["KEY","BASE_URL","fetchImages","value","params","response","renderImages","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refs","simpleLightbox","SimpleLightbox","e","inputValue","iziToast","data","loadGallery","error"],"mappings":"6vBAAA,MAAMA,EAAM,qCACNC,EAAW,2BAEF,SAASC,EAAYC,EAAO,CACzC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCjBe,SAASC,EAAaC,EAAQ,CA4B3C,OA3BeA,EACZ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,2BAEYL,CAAa;AAAA,gCACRD,CAAY,qCAAqCE,CAAI;AAAA;AAAA,mEAElBC,CAAK;AAAA,mEACLC,CAAK;AAAA,sEACFC,CAAQ;AAAA,uEACPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAM3E,EACA,KAAK,EAAE,CAEZ,CCtBA,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,eAAe,EAC5C,UAAW,SAAS,cAAc,qBAAqB,EACvD,QAAS,SAAS,cAAc,eAAe,EAC/C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEA,IAAIC,EAAiB,IAAIC,EAAe,qBAAsB,CAC5D,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAK,KAAK,iBAAiB,SAAUG,GAAK,CACxCA,EAAE,eAAc,EAEhB,MAAMC,EAAaJ,EAAK,UAAU,MAAM,KAAI,EAE5C,GAAII,IAAe,GAAI,CACrBC,EAAS,MAAM,CACb,QAAS,8BACT,SAAU,WACV,aAAc,EACpB,CAAK,EACD,MACD,CAEDL,EAAK,QAAQ,UAAY,GACzBA,EAAK,QAAQ,UAAU,IAAI,QAAQ,EACnCA,EAAK,OAAO,UAAU,OAAO,QAAQ,EAErCb,EAAYiB,CAAU,EACnB,KAAKE,GAAQ,CAEZ,GADAN,EAAK,UAAU,MAAQ,GACnBM,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,QAAS,uDACT,SAAU,WACV,aAAc,EACxB,CAAS,EACDL,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,QAAQ,UAAU,OAAO,QAAQ,EACtC,MACD,CAED,MAAMO,EAAchB,EAAae,EAAK,IAAI,EAC1CN,EAAK,QAAQ,UAAYO,EACzBN,EAAe,QAAO,CAC5B,CAAK,EACA,MAAMO,GAAS,CACdH,EAAS,MAAM,CACb,QAAS,UAAUG,EAAM,OAAO,GAChC,SAAU,WACV,aAAc,EACtB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbR,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCA,EAAK,QAAQ,UAAU,OAAO,QAAQ,CAC5C,CAAK,CACL,CAAC"}